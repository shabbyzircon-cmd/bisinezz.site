---
---

<div id="contactModal" class="fixed inset-0 bg-black/80 backdrop-blur-sm z-50 items-center justify-center p-4" style="display: none;">
  <div class="bg-gradient-to-br from-gray-900 to-black border border-cyan-glow/30 rounded-2xl p-8 max-w-lg w-full animate-slideUp glass-effect max-h-[90vh] overflow-y-auto">
    <div class="flex justify-between items-center mb-6">
      <h3 class="font-manrope font-800 text-2xl">–ó–∞–ª–∏—à—Ç–µ –∑–∞—è–≤–∫—É</h3>
      <button id="closeModal" class="text-gray-400 hover:text-white transition-colors text-2xl">‚úï</button>
    </div>

    <p class="text-gray-300 mb-6">–ó–∞–ø–æ–≤–Ω—ñ—Ç—å —Ñ–æ—Ä–º—É ‚Äî –º–∏ –æ–±–≥–æ–≤–æ—Ä–∏–º–æ –¥–µ—Ç–∞–ª—ñ –≤–∞—à–æ–≥–æ –ø—Ä–æ–µ–∫—Ç—É</p>

    <form id="contactFormModal" class="space-y-4">
      <div>
        <label class="block text-sm font-manrope font-600 mb-2">–í–∞—à–µ —ñ–º'—è *</label>
        <input
          type="text"
          name="name"
          required
          class="w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-cyan-glow transition-colors"
          placeholder="–Ü–º'—è –ü—Ä—ñ–∑–≤–∏—â–µ"
        />
      </div>

      <div>
        <label class="block text-sm font-manrope font-600 mb-2">–¢–µ–ª–µ—Ñ–æ–Ω *</label>
        <input
          type="tel"
          name="phone"
          required
          class="w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-cyan-glow transition-colors"
          placeholder="+380 (XX) XXX-XX-XX"
        />
      </div>

      <div>
        <label class="block text-sm font-manrope font-600 mb-2">–ù—ñ—à–∞ –±—ñ–∑–Ω–µ—Å—É *</label>
        <select
          name="niche"
          required
          class="w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-glow transition-colors appearance-none cursor-pointer"
        >
          <option value="">–í–∏–±–µ—Ä—ñ—Ç—å –Ω—ñ—à—É</option>
          <option value="coffee">‚òï –ö–æ—Ñ–µ–π–Ω—è</option>
          <option value="auto">üöó –ê–≤—Ç–æ –°–¢–û</option>
          <option value="salon">‚ú® –°–∞–ª–æ–Ω –∫—Ä–∞—Å–∏</option>
          <option value="vet">üêæ –í–µ—Ç–∫–ª—ñ–Ω—ñ–∫–∞</option>
          <option value="yoga">üßò –ô–æ–≥–∞-—Å—Ç—É–¥—ñ—è</option>
          <option value="restaurant">üçΩÔ∏è –†–µ—Å—Ç–æ—Ä–∞–Ω</option>
          <option value="other">üìå –Ü–Ω—à–µ</option>
        </select>
      </div>

      <div>
        <label class="block text-sm font-manrope font-600 mb-2">–ö–æ—Ä–æ—Ç–∫–æ –ø—Ä–æ –ø—Ä–æ–µ–∫—Ç</label>
        <textarea
          name="message"
          rows="3"
          class="w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-cyan-glow transition-colors resize-none"
          placeholder="–©–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤ —Å–∞–π—Ç—ñ?..."
        ></textarea>
      </div>

      <button
        type="submit"
        id="submitBtnModal"
        class="w-full px-8 py-4 bg-gradient-to-r from-cyan-glow to-cyan-500 text-black font-bold text-lg rounded-lg hover:shadow-lg hover:shadow-cyan-glow/50 transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed"
      >
        <span id="btnTextModal">–í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –∑–∞—è–≤–∫—É ‚Üí</span>
      </button>

      <p class="text-xs text-gray-500 text-center">
        –ú–∏ –Ω–µ —Å–ø–∞–º–∏–º–æ. –î—ñ–∑–Ω–∞–π—Ç–µ—Å—è –±—ñ–ª—å—à–µ –≤ –Ω–∞—à—ñ–π <a href="#" class="text-cyan-glow hover:underline">–ø–æ–ª—ñ—Ç–∏—Ü—ñ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—ñ</a>
      </p>
    </form>
  </div>
</div>

<script>
  declare global {
    interface Window {
      openContactModal: () => void;
    }
  }

  const modal = document.getElementById('contactModal') as HTMLElement;
  const closeModal = document.getElementById('closeModal');
  const contactFormModal = document.getElementById('contactFormModal') as HTMLFormElement;

  window.openContactModal = () => {
    if (modal) {
      modal.style.display = 'flex';
      document.body.style.overflow = 'hidden';
    }
  };

  const closeModalHandler = () => {
    if (modal) {
      modal.style.display = 'none';
      document.body.style.overflow = 'auto';
    }
  };

  closeModal?.addEventListener('click', closeModalHandler);

  modal?.addEventListener('click', (e) => {
    if (e.target === modal) {
      closeModalHandler();
    }
  });

  contactFormModal?.addEventListener('submit', async (e) => {
    e.preventDefault();
    const submitBtn = document.getElementById('submitBtnModal') as HTMLButtonElement;
    const btnText = document.getElementById('btnTextModal');

    submitBtn.disabled = true;
    if (btnText) btnText.textContent = '–í—ñ–¥–ø—Ä–∞–≤–ª—è—î–º–æ...';

    const name = (contactFormModal.elements.namedItem('name') as HTMLInputElement).value;
    const phone = (contactFormModal.elements.namedItem('phone') as HTMLInputElement).value;
    const niche = (contactFormModal.elements.namedItem('niche') as HTMLSelectElement).value;
    const message = (contactFormModal.elements.namedItem('message') as HTMLTextAreaElement).value || '';

    const BOT_TOKEN = '8115074423:AAGB4kMnH-rJ4_EuRvAJZthMeIjmgDd36vY';
    const CHAT_ID = '394929048';

    const text = `üì¨ –ù–æ–≤–∞ –∑–∞—è–≤–∫–∞ –∑ Businezz.Site!

üë§ –Ü–º'—è: ${name}
üìû –¢–µ–ª–µ—Ñ–æ–Ω: ${phone}
üéØ –ù—ñ—à–∞: ${niche}
üí¨ –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: ${message || '–Ω–µ –≤–∫–∞–∑–∞–Ω–æ'}
‚è∞ –ß–∞—Å: ${new Date().toLocaleString('uk-UA')}`;

    try {
      const response = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          chat_id: CHAT_ID,
          text: text,
        }),
      });

      const data = await response.json();

      if (response.ok && data.ok) {
        alert('‚úÖ –î—è–∫—É—î–º–æ! –ú–∏ —Å–∫–æ—Ä–æ –∑ –≤–∞–º–∏ –∑–≤\'—è–∂–µ–º–æ—Å—è üìû');
        contactFormModal.reset();
        closeModalHandler();
      } else {
        alert(`‚ö†Ô∏è –ü–æ–º–∏–ª–∫–∞: ${data.description || '–ù–µ–≤—ñ–¥–æ–º–∞ –ø–æ–º–∏–ª–∫–∞'}. –ó–≤\'—è–∂—ñ—Ç—å—Å—è –∑ –Ω–∞–º–∏ –Ω–∞–ø—Ä—è–º—É: +38 093 473-58-71`);
      }
    } catch (error) {
      console.error('–ü–æ–º–∏–ª–∫–∞:', error);
      alert('‚ö†Ô∏è –ü–æ–º–∏–ª–∫–∞ –∑\'—î–¥–Ω–∞–Ω–Ω—è. –ó–≤\'—è–∂—ñ—Ç—å—Å—è –∑ –Ω–∞–º–∏ –Ω–∞–ø—Ä—è–º—É: +38 093 473-58-71');
    } finally {
      submitBtn.disabled = false;
      if (btnText) btnText.textContent = '–í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –∑–∞—è–≤–∫—É ‚Üí';
    }
  });
</script>
